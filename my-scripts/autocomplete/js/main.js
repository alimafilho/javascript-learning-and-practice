(function () {
	'use strict';

	var result = [
		{
			"name" : "Miki Doherty",
			"number" : "74",
			"lorem" : "Nisl condimentum id. A arcu cursus vitae congue mauris. Ante in nibh mauris cursus mattis molestie a iaculis. Nunc sed id."
		},
		{
			"name" : "Della Sampson",
			"number" : "8",
			"lorem" : "Sit amet purus gravida quis blandit turpis cursus in. In fermentum et sollicitudin. Amet mauris commodo quis imperdiet massa tincidunt nunc. Leo urna molestie. Aliquam sem et tortor."
		},
		{
			"name" : "Avril Cook",
			"number" : "95",
			"lorem" : "Mauris in aliquam sem fringilla ut morbi tincidunt augue interdum. A lacus vestibulum sed arcu non. Enim facilisis gravida neque convallis a cras semper auctor. Mi sit amet mauris commodo. Ut placerat orci nulla."
		},
		{
			"name" : "Elijah Kelly",
			"number" : "29",
			"lorem" : "Sagittis eu volutpat. Nunc pulvinar sapien et ligula. In ante metus dictum. Commodo nulla facilisi nullam vehicula. Cras fermentum odio eu feugiat."
		},
		{
			"name" : "Claude Fulton",
			"number" : "49",
			"lorem" : "Egestas maecenas pharetra convallis posuere. Porttitor rhoncus dolor purus non. Vitae justo eget. Gravida rutrum quisque."
		},
		{
			"name" : "Genie Austin",
			"number" : "64",
			"lorem" : "Viverra maecenas accumsan lacus vel. Nulla aliquet enim tortor at auctor. Et netus et malesuada fames ac turpis egestas maecenas. Netus et malesuada. Ridiculus mus mauris vitae. Ullamcorper malesuada proin libero nunc consequat interdum."
		},
		{
			"name" : "Earle Hawes",
			"number" : "68",
			"lorem" : "Luctus accumsan tortor posuere ac ut consequat semper viverra nam. At varius vel pharetra vel turpis nunc eget lorem dolor. Donec pretium vulputate sapien. Tempor orci dapibus ultrices. Tristique senectus et netus et malesuada fames. Ultricies leo integer malesuada nunc vel risus commodo."
		},
		{
			"name" : "Lise Macrae",
			"number" : "94",
			"lorem" : "Pellentesque pulvinar pellentesque habitant morbi tristique senectus et netus et. Ut morbi tincidunt augue interdum velit euismod. Lobortis elementum nibh."
		},
		{
			"name" : "Lasonya Jeffery",
			"number" : "76",
			"lorem" : "Adipiscing elit duis tristique sollicitudin. Non odio euismod lacinia. Ultrices vitae auctor. Non arcu risus quis varius quam quisque id diam vel."
		},
		{
			"name" : "Barbie Bellamy",
			"number" : "74",
			"lorem" : "In massa tempor. Volutpat maecenas volutpat blandit aliquam etiam. Interdum varius sit amet mattis."
		},
		{
			"name" : "Liberty Young",
			"number" : "75",
			"lorem" : "Cras tincidunt lobortis feugiat vivamus at augue. Sapien faucibus et molestie. Commodo quis imperdiet. Morbi enim nunc faucibus a pellentesque sit amet. Id diam vel quam elementum pulvinar."
		},
		{
			"name" : "Karissa Berry",
			"number" : "72",
			"lorem" : "Viverra aliquet eget sit amet tellus cras adipiscing enim eu. Mauris ultrices eros in cursus turpis massa tincidunt dui ut. Nisi vitae suscipit tellus mauris a. Magna eget est lorem ipsum."
		},
		{
			"name" : "Greta Drake",
			"number" : "0",
			"lorem" : "Pulvinar etiam non. Ullamcorper a lacus vestibulum sed arcu non. Mi sit amet. Risus nec feugiat in fermentum posuere urna. Rhoncus est pellentesque elit ullamcorper dignissim cras tincidunt."
		},
		{
			"name" : "Hilma Browning",
			"number" : "74",
			"lorem" : "Non curabitur gravida arcu. Amet mauris commodo quis. Ornare massa eget egestas purus viverra accumsan in. Adipiscing bibendum est ultricies integer. Tristique senectus et netus et malesuada."
		},
		{
			"name" : "Santana Hope",
			"number" : "47",
			"lorem" : "Nisl nunc mi ipsum faucibus vitae. Blandit volutpat maecenas volutpat blandit. Diam in arcu cursus euismod quis viverra nibh cras pulvinar. Pretium vulputate sapien nec sagittis aliquam malesuada bibendum. Egestas pretium aenean pharetra magna ac placerat vestibulum lectus. Arcu non odio euismod lacinia."
		},
		{
			"name" : "Alaina Fitzgerald",
			"number" : "93",
			"lorem" : "Eu augue ut lectus arcu bibendum at varius vel. Elementum nisi quis eleifend quam adipiscing vitae proin sagittis nisl. Nisl nunc mi ipsum faucibus vitae aliquet. Pulvinar pellentesque habitant morbi. Pellentesque nec nam aliquam sem et tortor consequat id."
		},
		{
			"name" : "Gudrun Keogh",
			"number" : "70",
			"lorem" : "Facilisi cras fermentum odio eu feugiat pretium nibh. Blandit aliquam etiam. Nisl nisi scelerisque. Porttitor eget dolor morbi non. Amet porttitor eget dolor morbi non arcu risus quis varius. Scelerisque felis imperdiet proin fermentum leo vel."
		},
		{
			"name" : "Avery Crossley",
			"number" : "92",
			"lorem" : "Lacinia at quis risus. Sed faucibus turpis in eu mi bibendum. Vulputate sapien nec. Et netus et malesuada fames ac turpis egestas sed. Commodo viverra maecenas accumsan lacus vel facilisis. Egestas diam in arcu cursus."
		},
		{
			"name" : "Michal Foley",
			"number" : "28",
			"lorem" : "Id ornare arcu odio. Neque vitae tempus quam. Neque vitae tempus quam pellentesque nec."
		},
		{
			"name" : "Davida Plummer",
			"number" : "57",
			"lorem" : "Porttitor massa id neque aliquam. Viverra ipsum nunc aliquet bibendum enim facilisis gravida. Sit amet purus gravida quis blandit turpis cursus. Ac feugiat sed lectus vestibulum mattis ullamcorper velit sed. Eu turpis egestas pretium aenean pharetra magna ac. Iaculis urna id volutpat lacus laoreet non curabitur."
		},
		{
			"name" : "Synthia Maughan",
			"number" : "83",
			"lorem" : "Eu volutpat odio facilisis mauris. Feugiat scelerisque varius. A iaculis at erat pellentesque."
		},
		{
			"name" : "Rupert Mcintosh",
			"number" : "84",
			"lorem" : "Enim nec dui nunc mattis enim ut tellus. Urna neque viverra justo nec ultrices dui sapien eget. In ornare quam viverra. Vivamus at augue eget. Nisl rhoncus mattis. Aliquam nulla facilisi."
		},
		{
			"name" : "Norma Pemberton",
			"number" : "71",
			"lorem" : "Ac ut consequat semper viverra. Etiam non quam lacus suspendisse faucibus. Ut porttitor leo a diam sollicitudin tempor id eu. Praesent elementum facilisis leo vel fringilla est ullamcorper. Sit amet massa."
		},
		{
			"name" : "Shalonda Dolan",
			"number" : "46",
			"lorem" : "Nec feugiat nisl pretium fusce id velit. Fermentum posuere urna nec tincidunt praesent. Eget gravida cum sociis natoque penatibus et. Sit amet facilisis magna etiam tempor orci. Eleifend donec pretium vulputate."
		},
		{
			"name" : "Jamal Bond",
			"number" : "52",
			"lorem" : "Tincidunt praesent semper feugiat nibh sed pulvinar. Aliquam faucibus purus in. Quis lectus nulla at. Aliquam vestibulum morbi blandit cursus risus at ultrices mi. Pretium vulputate sapien nec sagittis aliquam malesuada bibendum arcu vitae. In nibh mauris cursus mattis molestie."
		},
		{
			"name" : "Sean Dillon",
			"number" : "59",
			"lorem" : "Tristique sollicitudin nibh sit amet commodo. Proin sed libero enim sed. Lorem ipsum dolor sit. Hac habitasse platea. Donec ac odio tempor. Mattis molestie a iaculis at erat pellentesque."
		},
		{
			"name" : "Elton Wainwright",
			"number" : "58",
			"lorem" : "Amet massa vitae. Nulla facilisi etiam dignissim diam quis enim lobortis scelerisque fermentum. Viverra mauris in. Enim tortor at auctor urna nunc id."
		},
		{
			"name" : "Mervin James",
			"number" : "38",
			"lorem" : "In iaculis nunc sed augue lacus viverra vitae. Sit amet tellus cras. Iaculis at erat pellentesque adipiscing commodo elit at. Felis eget nunc lobortis mattis aliquam faucibus. Neque gravida in fermentum et. Elementum eu facilisis sed odio morbi quis commodo odio."
		},
		{
			"name" : "Ying Boyle",
			"number" : "39",
			"lorem" : "Cras adipiscing enim eu turpis egestas pretium aenean pharetra. Metus dictum at tempor. Placerat in egestas erat imperdiet sed. Donec pretium vulputate sapien nec sagittis. Malesuada proin libero nunc consequat interdum varius. Dui id ornare arcu odio ut sem nulla."
		},
		{
			"name" : "Cathern Nicholson",
			"number" : "40",
			"lorem" : "Vitae nunc sed velit dignissim sodales ut eu sem. Donec ultrices tincidunt arcu. Arcu cursus vitae congue mauris rhoncus aenean vel elit. Lorem sed risus ultricies tristique nulla."
		},
		{
			"name" : "Heidy Lacey",
			"number" : "6",
			"lorem" : "Rutrum tellus pellentesque eu tincidunt tortor aliquam nulla facilisi. Aliquam nulla facilisi cras. Integer vitae justo eget magna fermentum iaculis eu. Senectus et netus et. Turpis egestas pretium aenean pharetra magna ac placerat vestibulum. Sapien faucibus et molestie ac."
		},
		{
			"name" : "Jon Greenwood",
			"number" : "59",
			"lorem" : "Maecenas sed enim ut sem viverra aliquet eget sit amet. At volutpat diam ut. Et molestie ac feugiat sed lectus vestibulum mattis ullamcorper velit. Volutpat blandit aliquam etiam erat velit scelerisque in."
		},
		{
			"name" : "Lee Jackson",
			"number" : "82",
			"lorem" : "Aliquam ut porttitor leo a diam. Fermentum et sollicitudin ac orci phasellus egestas tellus rutrum. Amet luctus venenatis. Vestibulum lorem sed risus ultricies tristique nulla aliquet. Rutrum quisque non tellus orci. Magna fringilla urna porttitor rhoncus dolor purus non enim praesent."
		},
		{
			"name" : "Lieselotte Owens",
			"number" : "48",
			"lorem" : "Ipsum dolor sit amet consectetur adipiscing elit pellentesque. Tristique magna sit amet purus gravida quis blandit turpis cursus. Quam viverra orci sagittis eu volutpat odio facilisis mauris. Egestas diam in arcu cursus."
		},
		{
			"name" : "Lasandra Mccormick",
			"number" : "63",
			"lorem" : "Pellentesque pulvinar pellentesque. Pellentesque diam volutpat commodo sed egestas egestas. Nullam vehicula ipsum a arcu cursus vitae congue. Rutrum tellus pellentesque eu tincidunt tortor aliquam. Velit dignissim sodales ut eu sem integer vitae. Viverra mauris in aliquam sem fringilla ut."
		},
		{
			"name" : "Riva Wiggins",
			"number" : "98",
			"lorem" : "Tempor orci eu lobortis. Duis ut diam quam nulla. Sit amet consectetur. Pretium viverra suspendisse potenti nullam ac tortor vitae purus. Tincidunt nunc pulvinar sapien et ligula. Tristique senectus et netus et malesuada fames."
		},
		{
			"name" : "Kisha Bone",
			"number" : "35",
			"lorem" : "Tellus id interdum velit laoreet id donec ultrices tincidunt. Dui sapien eget mi. Curabitur vitae nunc."
		},
		{
			"name" : "Maryland Costello",
			"number" : "57",
			"lorem" : "Blandit massa enim nec dui nunc mattis enim. Ornare quam viverra orci sagittis eu volutpat odio. Mauris a diam maecenas sed enim ut. Ullamcorper velit sed. Ultrices gravida dictum fusce ut placerat orci nulla pellentesque."
		},
		{
			"name" : "Roxie Pope",
			"number" : "95",
			"lorem" : "Eget mi proin sed libero enim sed. Sit amet consectetur adipiscing elit pellentesque habitant. Tortor id aliquet lectus proin nibh nisl. Imperdiet nulla malesuada pellentesque elit eget. Tellus integer feugiat scelerisque varius morbi enim. Volutpat lacus laoreet."
		},
		{
			"name" : "Sasha Mohammed",
			"number" : "74",
			"lorem" : "Faucibus et molestie. Cras adipiscing enim eu. Sit amet commodo nulla. Curabitur gravida arcu ac tortor dignissim convallis aenean et. Tristique senectus et netus et malesuada fames."
		},
		{
			"name" : "Douglass Mac",
			"number" : "68",
			"lorem" : "Molestie at elementum eu facilisis sed odio. Sapien et ligula ullamcorper malesuada proin libero nunc consequat. Ultrices sagittis orci a scelerisque purus semper. Viverra mauris in aliquam sem fringilla ut. Volutpat sed cras ornare arcu dui vivamus. Ac odio tempor orci dapibus ultrices in."
		},
		{
			"name" : "Sebrina Daniel",
			"number" : "93",
			"lorem" : "Aliquam ut porttitor leo a diam. Neque egestas congue quisque egestas diam in arcu. Egestas dui id ornare arcu odio ut sem nulla. Non quam lacus suspendisse faucibus interdum posuere."
		},
		{
			"name" : "Carylon Wood",
			"number" : "57",
			"lorem" : "Elementum eu facilisis sed odio morbi quis commodo odio. Arcu cursus vitae congue mauris rhoncus aenean vel. Eget gravida cum sociis. Aliquet porttitor lacus luctus accumsan tortor posuere. Ut aliquam purus sit amet luctus venenatis lectus magna. Vehicula ipsum a arcu cursus vitae congue."
		},
		{
			"name" : "Ivette Power",
			"number" : "89",
			"lorem" : "Faucibus ornare suspendisse sed nisi lacus sed. Sed ullamcorper morbi tincidunt ornare. Quisque egestas diam in arcu."
		},
		{
			"name" : "Dagmar Hall",
			"number" : "7",
			"lorem" : "Aliquam eleifend mi in. Diam sit amet nisl suscipit adipiscing bibendum est ultricies. Sodales ut eu sem integer vitae justo eget magna."
		},
		{
			"name" : "Wei Chadwick",
			"number" : "27",
			"lorem" : "Ultrices gravida dictum fusce ut. Penatibus et magnis dis. Proin sagittis nisl rhoncus."
		},
		{
			"name" : "Dulcie Crawford",
			"number" : "84",
			"lorem" : "Aliquam vestibulum morbi blandit cursus risus at ultrices. Facilisis magna etiam tempor orci eu lobortis elementum. Vel fringilla est ullamcorper. Ipsum faucibus vitae."
		},
		{
			"name" : "Glinda Greenaway",
			"number" : "18",
			"lorem" : "Fermentum iaculis eu non diam. Aliquam ut porttitor leo a diam sollicitudin. Aliquet porttitor lacus luctus accumsan tortor posuere ac ut. Egestas tellus rutrum tellus pellentesque eu tincidunt tortor aliquam nulla. Enim neque volutpat ac tincidunt."
		},
		{
			"name" : "Wilda Travers",
			"number" : "56",
			"lorem" : "Iaculis urna id. Tincidunt dui ut ornare lectus sit amet. Integer enim neque volutpat ac. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget egestas."
		},
		{
			"name" : "Cecille Eaton",
			"number" : "91",
			"lorem" : "Congue eu consequat ac felis donec. Mattis molestie a. Nullam vehicula ipsum a."
		}
	];

	var KEYBOARD = {
		left: 37,
		right: 39,
		top: 38,
		bottom: 40,
		enter: 13,
		esc: 27
	};

	var el = document.querySelector('#searchfilter'),
		ul = document.querySelector('#ulitens');

	if (el) {
		if (el.addEventListener) {
			// For all major browsers, except IE 8 and earlier
			// el.addEventListener("keydown", filter);
			el.addEventListener("input", filter);
		  el.addEventListener("keyup", navigation);
		} else if (x.attachEvent) {
			// For IE 8 and earlier versions
		  el.attachEvent("oninput", filter);
		}
	}

	var count = 0;

	function navigation (event) {
		/*
		http://keycode.info/ 
		http://javascript.info/tutorial/keyboard-events
		*/
		var key = event.which || event.keyCode, 
			li = ul.getElementsByTagName('li');

		// console.log('key', key, this)
		if (key == KEYBOARD.enter || key == KEYBOARD.esc) {
			ul.innerHTML = '';
		}
		for (var i = 0; i < li.length; i++)
		{
			li[i].style.backgroundColor = '#ffffff';
		}

		if (KEYBOARD.bottom == key) {
			if (count < li.length) {
				li[ count ].style.backgroundColor = '#EF5350';
				this.value = li[ count ].textContent;
			} else {
				li[0].style.backgroundColor = '#EF5350';
				this.value = li[0].textContent;
				count = 0;
			}
			count ++;
		}
		if (KEYBOARD.top == key) {
			count --;
			if (count < li.length  && count > 0){
				li[ count - 1].style.backgroundColor = '#ff00ff';
				this.value = li[ count -1 ].textContent;
			} else {
				li[li.length - 1].style.backgroundColor = '#ff00ff';
				this.value = li[li.length -1].textContent;
				count = li.length;
			}
		}
	}

	function filter () {
		var term = this.value, 
			regx = new RegExp(term, 'i');

		ul.innerHTML = '';
		for (var i = 0; i < result.length; i++) {
			// if ( regx.exec( result[i].name ) && term != '' ) 
			if (regx.test( result[i].name ) && term != '') {
				var li = document.createElement( 'li' );
					li.innerHTML = (result[i].name).replace(regx, '<b>'+ term +'</b>');
					li.setAttribute('tabindex', '-1');
				ul.appendChild(li);
			} else {
				// console.log('not found');
			}
		}
	}

})();
